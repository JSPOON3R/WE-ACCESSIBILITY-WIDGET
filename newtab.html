<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Simple Accessibility Widget</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
        :root {
            --bg: #0b0d12;
            --bg-soft: #11141b;
            --panel: #141826;
            --ink: #e7ecf5;
            --ink-dim: #9aa4b2;
            --brand: #7c5cff;
            --brand-2: #24c7d6;
            --accent: #00e5a8;
            --border: rgba(255, 255, 255, .08);
            --shadow: 0 10px 30px rgba(0, 0, 0, .35);
            --radius: 14px;
            --maxw: 1100px;

            /* New colors for code snips */
            --code-bg: #0f1330;
            --code-ink: #b9c4ff;
            --code-border: rgba(124, 92, 255, .45);
        }

        * {
            box-sizing: border-box
        }

        html,
        body {
            height: 100%
        }

        body {
            margin: 0;
            font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
            color: var(--ink);
            background:
                radial-gradient(1200px 800px at 20% -10%, rgba(124, 92, 255, .25), transparent 60%),
                radial-gradient(1000px 600px at 110% 10%, rgba(36, 199, 214, .18), transparent 60%),
                var(--bg);
            background-attachment: fixed;
            background-repeat: no-repeat;
            padding: 20px;
        }

        .wrap {
            max-width: var(--maxw);
            margin: 0 auto;
            padding: 0 36px;
        }

        header {
            position: relative;
            padding: 120px 0 32px;
        }

        h1 {
            font-size: clamp(62px, 4vw, 48px);
            line-height: 1.1;
            margin: 14px 0 8px;
            text-align: center;
        }

        .gradient-ink {
            background: linear-gradient(90deg, var(--brand), var(--brand-2));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            color: transparent;
        }

        /* Subtitle below the main header */
        .subtitle {
            text-align: center;
            color: var(--ink-dim);
            font-size: 3rem;
            font-weight: 600;
            margin-bottom: 20px;
            letter-spacing: 0.5px;
        }

        .sub {
            color: var(--ink-dim);
            font-size: clamp(16px, 2vw, 10px);
            max-width: 100%;
            line-height: 1.6;
        }

        a {
            color: var(--brand-2);
            text-decoration: none
        }

        .section {
            margin: 34px 0 26px;
        }

        .card {
            background: linear-gradient(180deg, rgba(255, 255, 255, .03), rgba(255, 255, 255, .01));
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 24px;
            box-shadow: var(--shadow);
        }

        .card h2 {
            margin: 0 0 10px;
            font-size: clamp(24px, 3vw, 32px);
        }

        .card h3 {
            margin: 0 0 10px;
        }

        .list {
            margin: 0;
            padding-left: 18px;
        }

        .list li {
            margin: .45rem 0;
            color: var(--ink-dim);
            line-height: 1.6;
        }

        /* Widget details */
        .hero-media {
            border: 1px solid var(--border);
            border-radius: 12px;
            background: rgba(255, 255, 255, .03);
            padding: 10px;
            display: flex;
            justify-content: center;
            margin-top: 14px;
            align-items: center;
        }

        .hero-media img {
            max-width: 100%;
            width: 100%;
            border-radius: 8px;
        }

        .bullets {
            display: grid;
            gap: 20px;
            margin-top: 18px;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        }

        .bullet {
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 18px 16px;
            background: var(--panel);
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
        }

        .bullet h4 {
            margin: 0 0 6px;
            font-size: 1rem;
        }

        .bullet p {
            margin: 0;
            color: var(--ink-dim);
            font-size: .95rem;
            line-height: 1.4;
        }

        /* Code badge (new palette) */
        .kbd {
            font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
            font-size: .95rem;
            color: var(--code-ink);
            background: linear-gradient(180deg, rgba(124, 92, 255, .22), rgba(36, 199, 214, .12)), var(--code-bg);
            border: 1px solid var(--code-border);
            padding: .18rem .42rem;
            border-radius: 6px;
            box-shadow: inset 0 0 0 1px rgba(255, 255, 255, .03);
        }

        .gif {
            border: 1px dashed rgba(255, 255, 255, .2);
            border-radius: 12px;
            background: rgba(255, 255, 255, .03);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--ink-dim);
            padding: 10px;
        }

        .gif img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
        }

        @media (max-width:980px) {
            .wrap {
                padding: 0 22px;
            }
        }
    </style>
</head>

<body>
    <header class="wrap">
        <h1>Simple Accessibility Widget</h1>
        <div class="subtitle gradient-ink">Adapted for Webfuse</div>
        <p class="sub">
            This page demonstrates using Webfuse Extensions to add an accessibility widget to all websites. The original
            widget has been <strong>reworked</strong> for Webfuse
            Sessions. In this version, setting defaults can be defined in your <span class="kbd">manifest.json</span>.
            Changes made during a session persist
            on all tabs via background/content messaging.
            <br><br>
            <strong>Credit:</strong> the core UI/UX comes from the open-source project
            <a href="https://github.com/PrabothCharith/accessibility-plugin" target="_blank"
                rel="noopener">PrabothCharith/accessibility-plugin</a>.
        </p>
    </header>

    <main class="wrap">
        <!-- ==========================
     Section 1 — The Widget
     ========================== -->
        <section class="section card">
            <h2>Using the <span class="gradient-ink">Widget</span></h2>
            <p class="sub">
                Change the tab url above to any website. The widget will load on each page visisted. Expand & toggle the
                tiles to apply effects instantly.
            </p>

            <div class="hero-media" style="margin-top:16px;">
                <img src="src/widget.gif" alt="Widget collapsing and expanding">
            </div>

            <h3 style="margin-top:20px;">Available Settings</h3>
            <div class="bullets">
                <div class="bullet">
                    <h4 class="gradient-ink">Colors &amp; Contrast</h4>
                    <p>Invert, grayscale, low/high saturation, contrast tiers (low/medium/high).</p>
                </div>
                <div class="bullet">
                    <h4 class="gradient-ink">Typography</h4>
                    <p>Base font-size presets (e.g. 1.3 / 1.5 / 1.8&nbsp;rem).</p>
                </div>
                <div class="bullet">
                    <h4 class="gradient-ink">Link Visibility</h4>
                    <p>Underline &amp; highlight styles for anchors (style0 / style1 / style2).</p>
                </div>
                <div class="bullet">
                    <h4 class="gradient-ink">Media Controls</h4>
                    <p>Hide images or video elements on the page.</p>
                </div>
                <div class="bullet">
                    <h4 class="gradient-ink">Cursor Tools</h4>
                    <p>Focus ring, horizontal band, or ruler cursor (cursor0 / cursor1 / cursor2).</p>
                </div>
                <div class="bullet">
                    <h4 class="gradient-ink">Widget Position</h4>
                    <p>Dock left / top / bottom / right.</p>
                </div>
            </div>
        </section>

        <!-- ==================================
     Section 2 — Adapted for Webfuse
     ================================== -->
        <section class="section card">
            <h2>Adapted for <span class="gradient-ink">Webfuse</span></h2>
            <p class="sub">
                Webfuse adapts this open-source widget for Webfuse sessions, allowing it to be used codelessly by session visitors. Initial settings can be set in <span class="kbd">manifest.json</span> as variables which can be modified in the UI (below).<br><br>Messaging between <span class="kbd">background.js</span> and <span class="kbd">content.js</span>
             while the session is active allow settings to persist across the session.
            </p>

            <!-- Full-width hero GIF -->
            <div class="hero-media" style="margin-top:16px;">
                <img src="src/update_variables.gif" alt="Updating variables and seeing DOM change">
            </div>

            <h3 style="margin-top:20px;">How it Works</h3>
            <ol class="list">
                <li><strong>First load:</strong> The background script reads defaults from <span
                        class="kbd">manifest.json</span>
                    (e.g. <span class="kbd">widgetColor1</span>, <span class="kbd">fontSize</span>, <span
                        class="kbd">contrast</span>, etc.).</li>
                <li><strong>Content boot:</strong> Content immediately sends
                    <span class="kbd">{ target:"background", action:"get_widet_state" }</span>.
                </li>
                <li><strong>Apply to DOM:</strong> Background replies with current state; the widget renders and applies
                    classes/styles to the page.</li>
                <li><strong>User changes:</strong> Each toggle updates the page instantly and sends
                    <span class="kbd">update_widget_state</span> to background.
                </li>
                <li><strong>Persistence:</strong> Background is the session’s source of truth, so reloads/new tabs pick
                    up your latest choices.</li>
                <li><strong>Next session:</strong> When the session ends, a fresh session starts from the
                    <strong>manifest defaults</strong>.
                </li>
            </ol>

            <h3 style="margin-top:18px;">Manifest-driven defaults</h3>
            <p class="sub">
                The widget’s settings connect directly to manifest variables:
                <span class="kbd">widgetColor1</span>, <span class="kbd">widgetColor2</span>, <span
                    class="kbd">invertColors</span>,
                <span class="kbd">grayscale</span>, <span class="kbd">saturation</span>, <span
                    class="kbd">underlineStyle</span>,
                <span class="kbd">fontSize</span>, <span class="kbd">contrast</span>, <span
                    class="kbd">hideImages</span>,
                <span class="kbd">hideVideo</span>, <span class="kbd">cursorMode</span>, <span
                    class="kbd">position</span>.
            </p>

            <h3 style="margin-top:18px;">Use it anywhere</h3>
            <p class="sub">
                With Webfuse messaging in place, anyone inside the session can use this widget on any site. The page
                updates
                immediately; the background keeps the state consistent until the session ends.
            </p>
        </section>
    </main>
</body>
</html>